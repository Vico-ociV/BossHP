<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boss HP Tracker</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <style>
    body { font-family: -apple-system, system-ui, Arial; margin: 0; padding: 18px; background: #0b0f14; color: #fff; }
    .card { background:#121a24; border-radius:16px; padding:18px; max-width:520px; margin:0 auto; box-shadow:0 10px 30px rgba(0,0,0,.35); }
    h1 { font-size:20px; margin:0 0 10px; }
    .hp { font-size:44px; font-weight:800; margin:8px 0 12px; }
    .sub { opacity:.8; margin-bottom:12px; }
    .row { display:flex; gap:10px; flex-wrap:wrap; }
    button { flex:1; min-width:110px; padding:16px 14px; border:0; border-radius:14px; font-size:20px; font-weight:700; background:#1f2d3f; color:#fff; }
    button:active { transform: scale(.99); opacity:.9; }
    .small { font-size:14px; opacity:.85; margin-top:10px; line-height:1.35; }
    .bar { height:14px; background:#0b0f14; border-radius:999px; overflow:hidden; margin:10px 0 14px; }
    .fill { height:100%; width:100%; background:#3b82f6; }
    .row2 button { min-width:160px; }
    input {
      width:100%; padding:16px 14px; border-radius:14px; border:1px solid #243244;
      background:#0b0f14; color:#fff; font-size:18px; outline:none;
    }
    .hidden { display:none; }
    .center { text-align:center; }
    .big { font-size:34px; font-weight:900; margin:10px 0 12px; }

    /* HP-Bar ist standardm√§√üig rot */
    .fill { background:#ef4444; transition: width 120ms ease; }

    /* Wackeln bei Schaden */
    .shake {
      animation: shake 180ms ease-in-out;
    }
    @keyframes shake {
      0%   { transform: translateX(0); }
      25%  { transform: translateX(-4px); }
      50%  { transform: translateX(4px); }
      75%  { transform: translateX(-3px); }
      100% { transform: translateX(0); }
    }
   
    /* Gr√ºner Pulse bei Heilung */
    .healPulse {
      animation: healPulse 220ms ease-out;
    }

    @keyframes healPulse {
      0%   { transform: scaleX(1); }
      50%  { transform: scaleX(1.03); }
      100% { transform: scaleX(1); }
    }

    /* Rotes Bildschirm-Aufblinken */
    #hitFlash {
      position: fixed;
      inset: 0;
      background: rgba(255, 0, 0, 0.0);
      pointer-events: none;
      z-index: 9999;
      transition: background 80ms ease;
    }
    #hitFlash.on {
      background: rgba(255, 0, 0, 0.22);
    }

    .bossImg{
      width: 100%;
      max-height: 220px;
      object-fit: cover;
      border-radius: 16px;
      margin: 10px 0 12px;
      border: 1px solid #243244;
      display:block;
    }


  </style>
</head>

<body>
<div class="card">

  <!-- SCREEN 1: START -->
  <div id="screenStart">
    <h1>Boss HP Tracker</h1>

    <div class="sub" style="margin-top:10px;">Welcher Boss?</div>
    <select id="bossSelect">
      <option value="waechter">W√§chter</option>
      <option value="hexageist">Hexageist</option>
      <option value="schleimboss">Schleimboss</option>
      <option value="champ">Champ</option>
      <option value="sammler">Sammler</option>
      <option value="bronze">Bronze-Automat</option>
      <option value="deka">Deka & Dunu</option>
      <option value="erweckter">Der Erweckte</option>
      <option value="zeitschnecke">Zeitschnecke</option>
    </select>

    <div class="sub">Wie viel Leben hat der Boss?</div>
    <input id="hpInput" type="number" inputmode="numeric" min="1" placeholder="z.B. 140" />

    <div class="row" style="margin-top:12px;">
      <button id="startFight">Start</button>
    </div>
  </div>

  <!-- SCREEN 2: FIGHT -->
  <div id="screenFight" class="hidden">
    <h1>Boss HP Tracker</h1>

    <img id="bossImg" class="bossImg" alt="Boss">

    <div class="hp"><span id="hpNow">0</span> / <span id="hpMax">0</span></div>
    <div class="sub" style="margin-top:-6px;">
      Block: <b><span id="blockNow">0</span></b>
    </div>

    <div class="bar"><div class="fill" id="hpFill"></div></div>

    <div class="row">
      <button data-dmg="1">-1</button>
      <button data-dmg="3">-3</button>
      <button data-dmg="5">-5</button>
      <button data-dmg="10">-10</button>
    </div>

    <div class="row" style="margin-top:10px;">
      <button data-heal="1">+1</button>
      <button data-heal="5">+5</button>
    </div>

    <div class="row" style="margin-top:10px;">
      <button id="blockPlus1">Block +1</button>
      <button id="blockReset">Block weg</button>
    </div>
  </div>

  <!-- SCREEN 3: WIN -->
  <div id="screenWin" class="hidden center">
    <h1>Boss HP Tracker</h1>
    <div class="big">Gl√ºckwunsch! üéâ</div>
    <div class="sub">Boss ist bei 0 HP.</div>

    <div class="row" style="margin-top:12px;">
      <button id="winUndo">R√ºckg√§ngig</button>
      <button id="nextBoss">N√§chster Boss</button>
    </div>
  </div>

</div>


  </div>
  <div id="hitFlash"></div>
  <script src="app.js"></script>
</body>
</html>
